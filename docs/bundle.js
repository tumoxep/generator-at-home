var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function l(t){return document.createTextNode(t)}function d(){return l(" ")}function f(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function h(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function m(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function p(t,e,n){t.classList[n?"add":"remove"](e)}let $;function g(t){$=t}function b(){const t=$;return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);r.slice().forEach(e=>{e.call(t,o)})}}}const w=[],v=[],x=[],y=[],_=Promise.resolve();let k=!1;function H(t){x.push(t)}function A(){const t=new Set;do{for(;w.length;){const t=w.shift();g(t),C(t.$$)}for(;v.length;)v.pop()();for(let e=0;e<x.length;e+=1){const n=x[e];t.has(n)||(n(),t.add(n))}x.length=0}while(w.length);for(;y.length;)y.pop()();k=!1}function C(t){t.fragment&&(t.update(t.dirty),r(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(H))}const E=new Set;let j;function U(t,e){t&&t.i&&(E.delete(t),t.i(e))}function N(t,e,n,r){if(t&&t.o){if(E.has(t))return;E.add(t),j.c.push(()=>{E.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}}function O(t,n,c){const{fragment:i,on_mount:a,on_destroy:s,after_update:u}=t.$$;i.m(n,c),H(()=>{const n=a.map(e).filter(o);s?s.push(...n):r(n),t.$$.on_mount=[]}),u.forEach(H)}function L(t,e){t.$$.fragment&&(r(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function q(t,e){t.$$.dirty||(w.push(t),k||(k=!0,_.then(A)),t.$$.dirty=n()),t.$$.dirty[e]=!0}function M(e,o,c,i,a,s){const u=$;g(e);const l=o.props||{},d=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:null};let f=!1;var h;d.ctx=c?c(e,l,(t,n,r=n)=>(d.ctx&&a(d.ctx[t],d.ctx[t]=r)&&(d.bound[t]&&d.bound[t](r),f&&q(e,t)),n)):l,d.update(),f=!0,r(d.before_update),d.fragment=i(d.ctx),o.target&&(o.hydrate?d.fragment.l((h=o.target,Array.from(h.childNodes))):d.fragment.c(),o.intro&&U(e.$$.fragment),O(e,o.target,o.anchor),A()),g(u)}class P{$destroy(){L(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const R=[];function S(e,n=t){let r;const o=[];function i(t){if(c(e,t)&&(e=t,r)){const t=!R.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),R.push(n,e)}if(t){for(let t=0;t<R.length;t+=2)R[t][0](R[t+1]);R.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(c,a=t){const s=[c,a];return o.push(s),1===o.length&&(r=n(i)||t),c(e),()=>{const t=o.indexOf(s);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}function B(t){var e,n,r;return{c(){h(e=u("img"),"class","container svelte-1qh4d6l"),h(e,"src",n=`https://place-hold.it/${t.width}x${t.width})`),h(e,"alt","placeholder"),p(e,"at-home",!!t.atHome),r=f(e,"click",t.handleClick)},m(t,n){a(t,e,n)},p(t,r){t.width&&n!==(n=`https://place-hold.it/${r.width}x${r.width})`)&&h(e,"src",n),t.atHome&&p(e,"at-home",!!r.atHome)},d(t){t&&s(e),r()}}}function D(t){var e,n;return{c(){h(e=u("img"),"class","container svelte-1qh4d6l"),h(e,"src",t.$src),m(e,"max-width",t.width+"px"),h(e,"alt","uploaded image"),p(e,"at-home",!!t.atHome),n=f(e,"click",t.handleClick)},m(t,n){a(t,e,n)},p(t,n){t.$src&&h(e,"src",n.$src),t.width&&m(e,"max-width",n.width+"px"),t.atHome&&p(e,"at-home",!!n.atHome)},d(t){t&&s(e),n()}}}function F(e){var n;function r(t,e){return e.$src?D:B}var o=r(0,e),c=o(e);return{c(){c.c(),n=l("")},m(t,e){c.m(t,e),a(t,n,e)},p(t,e){o===(o=r(0,e))&&c?c.p(t,e):(c.d(1),(c=o(e))&&(c.c(),c.m(n.parentNode,n)))},i:t,o:t,d(t){c.d(t),t&&s(n)}}}function I(t,e,n){let r,{src:o,width:c,atHome:i=!1}=e;var a,s;a=o,s=(t=>{n("$src",r=t)}),t.$$.on_destroy.push(function(t,e){const n=t.subscribe(e);return n.unsubscribe?()=>n.unsubscribe():n}(a,s));const u=b();return t.$set=(t=>{"src"in t&&n("src",o=t.src),"width"in t&&n("width",c=t.width),"atHome"in t&&n("atHome",i=t.atHome)}),{src:o,width:c,atHome:i,handleClick:function(t){u("click",t)},$src:r}}class T extends P{constructor(t){super(),M(this,t,I,F,c,["src","width","atHome"])}}function z(e){var n,o,c,m,$,g,b,w,v,x,y,_,k,H,A,C,E=new T({props:{src:e.source,width:"100"}});E.$on("click",e.handleClick);var j=new T({props:{src:e.source,width:"100"}});j.$on("click",e.handleClick);var q=new T({props:{src:e.source,width:"100"}});q.$on("click",e.handleClick);var M=new T({props:{atHome:!0,src:e.sourceAtHome,width:"500"}});return M.$on("click",e.handleClick),{c(){n=u("p"),o=l("Me: Can I have "),E.$$.fragment.c(),c=d(),m=u("p"),$=l('Mom: "No, we have already '),j.$$.fragment.c(),g=l(' at home"'),b=d(),w=u("p"),q.$$.fragment.c(),v=l(" at home:"),x=d(),M.$$.fragment.c(),y=d(),_=u("input"),k=d(),H=u("input"),h(n,"class","svelte-1rmhrj6"),h(m,"class","svelte-1rmhrj6"),h(w,"class","svelte-1rmhrj6"),h(_,"type","file"),h(_,"accept","image/*"),h(_,"class","svelte-1rmhrj6"),p(_,"at-home",!0),h(H,"type","file"),h(H,"accept","image/*"),h(H,"class","svelte-1rmhrj6"),C=[f(_,"change",e.handleUpload),f(H,"change",e.handleUpload)]},m(t,r){a(t,n,r),i(n,o),O(E,n,null),a(t,c,r),a(t,m,r),i(m,$),O(j,m,null),i(m,g),a(t,b,r),a(t,w,r),O(q,w,null),i(w,v),a(t,x,r),O(M,t,r),a(t,y,r),a(t,_,r),e.input0_binding(_),a(t,k,r),a(t,H,r),e.input1_binding(H),A=!0},p:t,i(t){A||(U(E.$$.fragment,t),U(j.$$.fragment,t),U(q.$$.fragment,t),U(M.$$.fragment,t),A=!0)},o(t){N(E.$$.fragment,t),N(j.$$.fragment,t),N(q.$$.fragment,t),N(M.$$.fragment,t),A=!1},d(t){t&&s(n),L(E),t&&(s(c),s(m)),L(j),t&&(s(b),s(w)),L(q),t&&s(x),L(M,t),t&&(s(y),s(_)),e.input0_binding(null),t&&(s(k),s(H)),e.input1_binding(null),r(C)}}}function G(t,e,n){let r,o;const c=S(null),i=S(null);return{miniUploader:r,uploaderAtHome:o,source:c,sourceAtHome:i,handleUpload:function(t){t.target.files[0].name;const e=new FileReader;e.readAsDataURL(t.target.files[0]),e.onload=(e=>{(-1!==t.target.getAttribute("class").indexOf("at-home")?i:c).update(t=>e.target.result)})},handleClick:function(t){(-1!==t.detail.target.getAttribute("class").indexOf("at-home")?o:r).click(t)},input0_binding:function(t){v[t?"unshift":"push"](()=>{n("uploaderAtHome",o=t)})},input1_binding:function(t){v[t?"unshift":"push"](()=>{n("miniUploader",r=t)})}}}return new class extends P{constructor(t){super(),M(this,t,G,z,c,["source","sourceAtHome"])}get source(){return this.$$.ctx.source}get sourceAtHome(){return this.$$.ctx.sourceAtHome}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
